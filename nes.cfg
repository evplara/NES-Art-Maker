MEMORY {
  ZP:      start = $0000, size = $0100, type = rw, define = yes;    # $00-$FF
  RAM:     start = $0200, size = $0600, type = rw, define = yes;    # $200-$7FF
  PRG:     start = $8000, size = $7FFA, file = %O, fill = yes, define = yes;
  VECTORS: start = $FFFA, size = $0006, file = %O, fill = yes;
  HEADER:  start = $0000, size = $0010, file = %O;                  # iNES header (first 16 bytes)
}

SEGMENTS {
  ZEROPAGE: load = ZP,      type = zp;
  BSS:      load = RAM,     type = bss, define = yes;
  CODE:     load = PRG,     type = ro;
  RODATA:   load = PRG,     type = ro;
  DATA:     load = PRG,     type = rw;
  HEADER:   load = HEADER,  type = ro;
  VECTORS:  load = VECTORS, type = ro;
}

FEATURES {
  CONDES: type = constructor, label = __CONSTRUCTOR_TABLE__, count = __CONSTRUCTOR_COUNT__;
  CONDES: type = destructor,  label = __DESTRUCTOR_TABLE__,  count = __DESTRUCTOR_COUNT__;
  CONDES: type = interruptor, label = __INTERRUPTOR_TABLE__, count = __INTERRUPTOR_COUNT__;
}

SYMBOLS {
  __STACKSIZE__ = $0100;    # 256-byte C stack in RAM
}
